var bestsellers = [{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_E1LM01_600x600_0.jpg",
    name: "VITAMIN ENRICHED FACE BASE",
    tag: "Multasking, moisturizing primer",
    price:64,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_EGXR04_600x600_0.jpg",
    name: "SKIN LONG-WEAR WEIGHTLESS FOUNDATION",
    tag: "16-hour, breathable, natural matte coverage",
    price:50,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_EPXL17_600x600_0.jpg",
    name: "SKIN CORRECTOE STICK",
    tag: "Discoloration neutralizer for face",
    price:80,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_ERFJ01_600x600_0.jpg",
    name: "SKIN CONCEALER STICK",
    tag: "Easy-to-use, long-lasting concealer stick",
    price:32,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_EER901_600x600_0.jpg",
    name: "EXTRA LIP TINT",
    tag: "Color-enhancing lip balm",
    price:34,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_ENPT01_600x600_0.jpg",
    name: "SHEER FINISH PRESSED POWDER",
    tag: "Oil-absorbing powder",
    price:45,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_E96E40_600x600_0.jpg",
    name: "LONG-WEAR CREAM SHADOW STICK",
    tag: "Our ultimate quick eye shadow stick",
    price:50,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_EFAA01_600x600_0.jpg",
    name: "HIGHLIGHTING POWDER",
    tag: "Pearl-infused illuminator",
    price:32,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_E6XW02_600x600_0.jpg",
    name: "CORRECTOR",
    tag: "Full-coverage dark circle corrector",
    price:50,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_EM4201_600x600_0.jpg",
    name: "SOOTHING CLEANSING OIL",
    tag: "Makeup remover and cleanser",
    price:29,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_EMCK01_600x600_0.jpg",
    name: "CRUSHED OIL-INFUSED GLOSS",
    tag: "Hydrating, non-sticky lip gloss",
    price:20,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_EH2102_600x600_0.jpg",
    name: "CRUSHED LIP COLOR",
    tag: "Playful, effortless color",
    price:75,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_E9TN01_600x600_0.jpg",
    name: "SMOKEY EYE MASCARA",
    tag: "Long-wearing, volumizing mascara",
    price:55,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_EH9A01_600x600_0.jpg",
    name: "INSTANT FULL COVER CONCEALER",
    tag: "Full-coverage, long-lasting concealer",
    price:65,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_EA6C17_600x600_0.jpg",
    name: "SKIN FOUNDATION STICK",
    tag: "Multitasking, on-the-go stick",
    price:105,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_EFX201_600x600_0.jpg",
    name: "SKIN CLARIFIER NO. 75",
    tag: "Concentrated pore-clarifying treatment",
    price:160,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_E65Y01_600x600_0.jpg",
    name: "HYDRATING EYE CREAM",
    tag: "Gentle, quick-absorbing eye cream",
    price:70,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_ECNF09_600x600_0.jpg",
    name: "PERFECTLY DEFINED LONG-WEAR PENCIL",
    tag: "All-in-one, refillable brow pencil",
    price:54,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_E0KK07_600x600_0.jpg",
    name: "LONG-WEAR GEL EYELINER",
    tag: "Waterproof, no-smudge eyeliner",
    price:49,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_E39Y01_600x600_0.jpg",
    name: "BRONZING POWDER",
    tag: "Sun-kissed, matte bronzer",
    price:56,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_E7YW01_600x600_0.jpg",
    name: "BEACH",
    tag: "Light, summer-inspired perfume",
    price:45,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_EPGN01_600x600_0.jpg",
    name: "MINI VITAMIN ENRICHED FACE BASE",
    tag: "Oil-free moisturizer and primer",
    price:28,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/600x600/bb_sku_E65X01_600x600_0.jpg",
    name: "HYDRATING FACE CREAM",
    tag: "Rich yet lightweight moisturizer",
    price:44,
},

{
    Image: "https://www.bobbibrowncosmetics.com/media/export/cms/products/v2_1080x1080/bb_sku_EPH201_1080x1080_0.jpg",
    name: "MINI HIGHLIGHTING POWDER",
    tag: "Pearlescent Glow on the Go",
    price:67,
}];

localStorage.setItem("bestsellersData", JSON.stringify("bestsellers"));

var cartArr = JSON.parse(localStorage.getItem("cartItems")) || [];

function displayData() {
    document.querySelector("#container").innerHTML = "";
    bestsellers.map(function (elem, index, array) {

        var div = document.createElement("div");

        var img = document.createElement("img");
        img.setAttribute("src", elem.Image);

        var name = document.createElement("h4");
        name.innerText = elem.name;

        var tag = document.createElement("p");
        tag.innerText = elem.tag;

        var price = document.createElement("p");
        price.innerText = "$ " + elem.price;

        // add to cart button

        var cart = document.createElement("button");
        cart.innerText = "ADD TO BAG";
        cart.addEventListener("click", function () {
            addToCart(elem);
        })

        div.append(img, name, tag, price, cart);
        document.querySelector("#container").append(div);
    })

    function addToCart(elem) {
    console.log(elem);
    elem.quant = 1;
    cartArr.push(elem);
    console.log(cartArr)
    localStorage.setItem("cartItems", JSON.stringify(cartArr));
   }

}
displayData(bestsellers);

function sortItems() {
    var sorting = document.querySelector("#sorter").value;

    if (sorting == "H2L") {
        bestsellers.sort(function (a, b) {
            return b.price - a.price;
        })
        displayData(bestsellers);

    }
    else if (sorting === "L2H") {
        bestsellers.sort(function (a, b) {
            return a.price - b.price;
        })
        displayData(bestsellers);
    }
}
